<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–®–∫–æ–ª–∞ ‚Ä¢ 1 –∫–ª–∞—Å—Å</title>
    <style>
        :root { --blue:#2563eb; --green:#16a34a; --red:#dc2626; --light:#f0f7ff; }
        body { margin:0; font-family: 'Segoe UI', Arial, sans-serif; background:var(--light); }
        header { background:var(--blue); color:white; padding:20px; text-align:center; font-size:26px; font-weight:bold; }
        nav { display:flex; justify-content:center; flex-wrap:wrap; gap:10px; background:white; padding:15px; position:sticky; top:0; z-index:100; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        nav button { padding:10px 18px; border:none; border-radius:10px; cursor:pointer; background:var(--blue); color:white; font-weight: bold; }
        
        .section { display:none; max-width:1000px; margin:25px auto; background:white; padding:30px; border-radius:20px; text-align:center; box-shadow: 0 5px 15px rgba(0,0,0,0.05); }
        .section.active { display:block; }

        .action { margin:10px; padding:12px 24px; border-radius:12px; border:none; background:var(--green); color:white; font-weight:bold; cursor:pointer; font-size: 16px; }
        .reset-btn { background: #64748b; }

        /* –ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ */
        #apples { font-size:45px; margin:20px 0; min-height: 60px; user-select: none; }
        .math-table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        .math-table td { border: 1px solid #ddd; padding: 10px; text-align: center; }

        /* –ì—Ä–∞–º–æ—Ç–∞ */
        .syllable-cloud { display: flex; flex-wrap: wrap; justify-content: center; gap: 10px; margin-bottom: 20px; padding: 15px; border: 2px dashed var(--blue); border-radius: 15px; }
        .syllable { background: var(--blue); color: white; padding: 8px 15px; border-radius: 8px; cursor: pointer; font-weight: bold; }
        .word-card { border: 2px solid #e2e8f0; padding: 15px; border-radius: 12px; margin-bottom: 10px; background: #fff; }
        .drop-zone-reading { min-height: 50px; border: 2px dashed #cbd5e1; border-radius: 8px; display: flex; justify-content: center; gap: 5px; align-items: center; margin-top: 5px; }

        /* –ï—Å—Ç–µ—Å—Ç–≤–æ–∑–Ω–∞–Ω–∏–µ */
        .nature-box { position:relative; max-width:500px; margin:auto; border:1px solid #ddd; border-radius:15px; overflow:hidden; }
        .nature-zone { position:absolute; width:90px; height:35px; border:2px dashed #94a3b8; background:rgba(255,255,255,0.8); border-radius:8px; display:flex; align-items:center; justify-content:center; }
        
        /* –ü–æ–∑–Ω–∞–Ω–∏–µ –º–∏—Ä–∞ */
        .world-grid { display:flex; justify-content:center; gap:15px; flex-wrap:wrap; }
        .world-card { width:280px; border:2px solid #eee; padding:15px; border-radius:15px; background:#fff; display: flex; flex-direction: column; }
        .world-card img { width:100%; height:120px; object-fit:contain; margin-bottom:10px; }
        .drop-zone-world { min-height:60px; border:2px dashed #ccc; border-radius:10px; display:flex; align-items:center; justify-content:center; background:#f9f9f9; padding: 10px; }

        /* –û–±—â–∏–µ –ø–ª–∞—à–∫–∏ –¥–ª—è –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏—è */
        .word-pool { display:flex; justify-content:center; gap:10px; flex-wrap:wrap; margin-bottom:15px; min-height: 50px; padding: 10px; border: 1px solid #eee; border-radius: 10px;}
        .drag-word { background:var(--blue); color:white; padding:8px 12px; border-radius:6px; cursor:grab; font-weight:bold; font-size: 14px; text-align: center; }
    </style>
</head>
<body>

<header>üè´ –≠–õ–ï–ö–¢–†–û–ù–ù–ê–Ø –®–ö–û–õ–ê ‚Ä¢ 1 –ö–õ–ê–°–°</header>

<nav>
    <button onclick="show('home')">üè† –ì–ª–∞–≤–Ω–∞—è</button>
    <button onclick="show('math')">üî¢ –ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞</button>
    <button onclick="show('reading')">üìñ –ì—Ä–∞–º–æ—Ç–∞</button>
    <button onclick="show('nature')">üçÖ –ï—Å—Ç–µ—Å—Ç–≤–æ–∑–Ω–∞–Ω–∏–µ</button>
    <button onclick="show('world')">üåç –ü–æ–∑–Ω–∞–Ω–∏–µ –º–∏—Ä–∞</button>
</nav>

<div class="section active" id="home">
    <h2>–ü—Ä–∏–≤–µ—Ç! –ù–∞—á–Ω–µ–º —É—Ä–æ–∫?</h2>
    <p>–í—ã–±–µ—Ä–∏ –ø—Ä–µ–¥–º–µ—Ç –≤ –º–µ–Ω—é —Å–≤–µ—Ä—Ö—É. –í—Å–µ –∑–∞–¥–∞–Ω–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω—ã –∏ –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã!</p>
</div>

<div class="section" id="math">
    <div id="math-game">
        <h2 id="math-title">–ó–∞–¥–∞–Ω–∏–µ 1 –∏–∑ 10</h2>
        <div id="math-question" style="font-size:40px; font-weight:bold; color:var(--blue);"></div>
        <div id="apples"></div>
        <p><i>–ù–∞–∂–º–∏ –Ω–∞ —è–±–ª–æ–∫–∏, —á—Ç–æ–±—ã –æ—Å—Ç–∞–≤–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç</i></p>
        <button class="action" onclick="checkMath()">–û—Ç–≤–µ—Ç–∏—Ç—å ‚úÖ</button>
    </div>
    <div id="math-results" style="display:none;"></div>
</div>

<div class="section" id="reading">
    <h2>–°–æ–±–µ—Ä–∏ 7 —Å–ª–æ–≤</h2>
    <div class="syllable-cloud" id="syll-pool"></div>
    <div id="reading-grid" style="display:grid; grid-template-columns:repeat(auto-fit, minmax(280px, 1fr)); gap:15px;"></div>
    <button class="action" onclick="verifyReading()">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å ‚úÖ</button>
    <button class="action reset-btn" onclick="initReading()">–°–±—Ä–æ—Å üîÑ</button>
</div>

<div class="section" id="nature">
    <h2>–ß–∞—Å—Ç–∏ —Ä–∞—Å—Ç–µ–Ω–∏—è</h2>
    <div class="word-pool" id="nat-pool"></div>
    <div class="nature-box">
        <img src="https://avatars.mds.yandex.net/i?id=3f7cc7063a89e3fc0956b78e5a33325094379fa0-4935648-images-thumbs&n=13" width="100%">
        <div class="nature-zone" style="top:12%; left:5%;" data-ans="–ª–∏—Å—Ç"></div>
        <div class="nature-zone" style="top:35%; left:5%;" data-ans="–ø–ª–æ–¥"></div>
        <div class="nature-zone" style="top:58%; left:5%;" data-ans="—Å—Ç–µ–±–µ–ª—å"></div>
        <div class="nature-zone" style="top:80%; left:5%;" data-ans="–∫–æ—Ä–µ–Ω—å"></div>
        <div class="nature-zone" style="top:25%; right:22%;" data-ans="—Ü–≤–µ—Ç–æ–∫"></div>
        <div class="nature-zone" style="bottom:18%; right:12%;" data-ans="—Å–µ–º—è"></div>
    </div>
    <button class="action" onclick="verifyNature()">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å ‚úÖ</button>
    <button class="action reset-btn" onclick="initNature()">–°–±—Ä–æ—Å üîÑ</button>
</div>

<div class="section" id="world">
    <h2>–°–∏–º–≤–æ–ª—ã –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω–∞</h2>
    <div class="word-pool" id="world-pool"></div>
    <div class="world-grid">
        <div class="world-card" data-ans="flag">
            <img src="https://upload.wikimedia.org/wikipedia/commons/d/d3/Flag_of_Kazakhstan.svg">
            <div class="drop-zone-world"></div>
        </div>
        <div class="world-card" data-ans="herb">
            <img src="https://upload.wikimedia.org/wikipedia/commons/0/06/Coat_of_arms_of_Kazakhstan.png">
            <div class="drop-zone-world"></div>
        </div>
        <div class="world-card" data-ans="map">
            <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/f/fc/Kazachst√°n-pah√Ωl-obr√°zek.svg/1224px-Kazachst√°n-pah√Ωl-obr√°zek.svg.png">
            <div class="drop-zone-world"></div>
        </div>
    </div>
    <button class="action" onclick="verifyWorld()">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å ‚úÖ</button>
    <button class="action reset-btn" onclick="initWorld()">–°–±—Ä–æ—Å üîÑ</button>
</div>

<script>
function show(id) {
    document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
    document.getElementById(id).classList.add('active');
    if(id === 'math' && mTasks.length === 0) initMath();
}

const shuffle = (a) => a.sort(() => Math.random() - 0.5);

/* –ú–ê–¢–ï–ú–ê–¢–ò–ö–ê */
let mTasks = [], mIdx = 0, mResults = [];
function initMath() {
    mIdx = 0; mResults = [];
    let p = [];
    for(let i=1;i<=9;i++) for(let j=1;j<=9;j++) {
        if(i+j<=10) p.push({q:`${i} + ${j}`, a:i+j});
        if(i-j>=1) p.push({q:`${i} - ${j}`, a:i-j});
    }
    mTasks = shuffle(p).slice(0,10);
    document.getElementById('math-game').style.display='block';
    document.getElementById('math-results').style.display='none';
    renderMath();
}
function renderMath() {
    let t = mTasks[mIdx];
    document.getElementById('math-title').innerText = `–ó–∞–¥–∞–Ω–∏–µ ${mIdx+1} –∏–∑ 10`;
    document.getElementById('math-question').innerText = t.q + " = ?";
    const box = document.getElementById('apples'); box.innerHTML = "";
    for(let i=0; i<10; i++) {
        let s = document.createElement('span'); s.innerText = "üçé"; s.style.cursor="pointer";
        s.onclick = () => s.style.opacity = (s.style.opacity === "0.2") ? "1" : "0.2";
        box.appendChild(s);
    }
}
function checkMath() {
    let count = [...document.getElementById('apples').children].filter(s=>s.style.opacity!=="0.2").length;
    mResults.push({q: mTasks[mIdx].q, a: mTasks[mIdx].a, u: count});
    mIdx++;
    if(mIdx < 10) renderMath(); else {
        document.getElementById('math-game').style.display='none';
        let res = document.getElementById('math-results'); res.style.display='block';
        let win = mResults.filter(r=>r.a===r.u).length;
        let h = `<h3>–í–µ—Ä–Ω–æ: ${win} –∏–∑ 10</h3><table class="math-table" style="margin:auto">`;
        mResults.forEach(r => h+=`<tr style="background:${r.a===r.u?'#dcfce7':'#fee2e2'}"><td>${r.q}</td><td>–û—Ç–≤–µ—Ç: ${r.a}</td><td>–¢–≤–æ–π: ${r.u}</td></tr>`);
        res.innerHTML = h + `</table><button class="action" onclick="initMath()">–°–Ω–∞—á–∞–ª–∞</button>`;
    }
}

/* –ì–†–ê–ú–û–¢–ê */
const rWords = [
    {w:"–®–ö–û–õ–ê", s:["–®–ö–û","–õ–ê"], h:"–¢–∞–º –º—ã —É—á–∏–º—Å—è"}, {w:"–ú–û–õ–û–ö–û", s:["–ú–û","–õ–û","–ö–û"], h:"–ë–µ–ª—ã–π –Ω–∞–ø–∏—Ç–æ–∫"},
    {w:"–ú–ê–®–ò–ù–ê", s:["–ú–ê","–®–ò","–ù–ê"], h:"–ï–¥–µ—Ç –ø–æ –¥–æ—Ä–æ–≥–µ"}, {w:"–°–û–ë–ê–ö–ê", s:["–°–û","–ë–ê","–ö–ê"], h:"–õ—É—á—à–∏–π –¥—Ä—É–≥ —á–µ–ª–æ–≤–µ–∫–∞ "},
    {w:"–†–ê–î–£–ì–ê", s:["–†–ê","–î–£","–ì–ê"], h:"–¶–≤–µ—Ç–Ω–∞—è –¥—É–≥–∞ –≤ –Ω–µ–±–µ"}, {w:"–õ–ò–°–ò–¶–ê", s:["–õ–ò","–°–ò","–¶–ê"], h:"–•–∏—Ç—Ä–∞—è –∏ —Ä—ã–∂–∞—è"},
    {w:"–ê–†–ë–£–ó", s:["–ê–†","–ë–£–ó"], h:"–ë–æ–ª—å—à–∞—è –ø–æ–ª–æ—Å–∞—Ç–∞—è —è–≥–æ–¥–∞"}
];
function initReading() {
    const p = document.getElementById('syll-pool'); const g = document.getElementById('reading-grid');
    p.innerHTML=""; g.innerHTML=""; let allS = []; rWords.forEach(w => allS.push(...w.s));
    shuffle(allS).forEach(s => {
        let d = document.createElement('div'); d.className="syllable"; d.innerText=s;
        d.onclick = () => {
            let zones = document.querySelectorAll('.drop-zone-reading');
            for(let z of zones) {
                if(z.children.length < rWords[z.id.split('-')[1]].s.length) { z.appendChild(d); return; }
            }
        };
        p.appendChild(d);
    });
    rWords.forEach((w, i) => {
        g.innerHTML += `<div class="word-card" id="wc-${i}"><span style="font-size:14px; color:#666;">‚ùì ${w.h}</span><div class="drop-zone-reading" id="rz-${i}" onclick="if(event.target.className==='syllable')document.getElementById('syll-pool').appendChild(event.target)"></div></div>`;
    });
}
function verifyReading() {
    rWords.forEach((w, i) => {
        let u = [...document.getElementById(`rz-${i}`).children].map(c=>c.innerText).join("");
        document.getElementById(`wc-${i}`).style.borderColor = (u===w.w)?"var(--green)":"var(--red)";
    });
}

/* –ï–°–¢–ï–°–¢–í–û–ó–ù–ê–ù–ò–ï */
function initNature() {
    const p = document.getElementById('nat-pool'); p.innerHTML = "";
    shuffle(["–∫–æ—Ä–µ–Ω—å", "—Å—Ç–µ–±–µ–ª—å", "–ª–∏—Å—Ç", "—Ü–≤–µ—Ç–æ–∫", "–ø–ª–æ–¥", "—Å–µ–º—è"]).forEach(t => {
        let d = document.createElement('div'); d.className="drag-word"; d.draggable=true; d.innerText=t; d.dataset.v=t;
        p.appendChild(d);
    });
    document.querySelectorAll('.nature-zone').forEach(z => { z.innerHTML=""; z.style.background="rgba(255,255,255,0.8)"; });
}
function verifyNature() {
    document.querySelectorAll('.nature-zone').forEach(z => {
        let w = z.querySelector('.drag-word');
        z.style.background = (w && w.dataset.v === z.dataset.ans) ? "#dcfce7" : "#fee2e2";
    });
}

/* –ü–û–ó–ù–ê–ù–ò–ï –ú–ò–†–ê */
const worldItems = [
    {id: "flag", t: "–§–ª–∞–≥"}, {id: "map", t: "–ö–∞—Ä—Ç–∞"},
    {id: "herb", t: "–ê–ª—Ç—ã–Ω –∫“Ø–Ω –∞—Å–ø–∞–Ω—ã,<br>–ê–ª—Ç—ã–Ω –¥”ô–Ω –¥–∞–ª–∞—Å—ã,<br>–ï—Ä–ª—ñ–∫—Ç—ñ“£ –¥–∞—Å—Ç–∞–Ω—ã,<br>–ï–ª—ñ–º–µ “õ–∞—Ä–∞—à—ã!<br>–ï–∂–µ–ª–¥–µ–Ω –µ—Ä –¥–µ–≥–µ–Ω,<br>–î–∞“£“õ—ã–º—ã–∑ —à—ã“õ—Ç—ã “ì–æ–π.<br>–ù–∞–º—ã—Å—ã–Ω –±–µ—Ä–º–µ–≥–µ–Ω,<br>“ö–∞–∑–∞“ì—ã–º –º—ã“õ—Ç—ã “ì–æ–π!"}
];
function initWorld() {
    const p = document.getElementById('world-pool'); p.innerHTML = "";
    shuffle([...worldItems]).forEach(i => {
        let d = document.createElement('div'); d.className="drag-word"; d.draggable=true; d.innerHTML=i.t; d.dataset.v=i.id;
        p.appendChild(d);
    });
    document.querySelectorAll('#world .drop-zone-world').forEach(z => { z.innerHTML=""; z.parentElement.style.borderColor = "#eee"; });
}
function verifyWorld() {
    document.querySelectorAll('#world .world-card').forEach(c => {
        let w = c.querySelector('.drag-word');
        c.style.borderColor = (w && w.dataset.v === c.dataset.ans) ? "var(--green)" : "var(--red)";
    });
}

/* DRAG & DROP */
let dragged = null;
document.addEventListener("dragstart", e => { if(e.target.classList.contains("drag-word")) dragged = e.target; });
document.addEventListener("dragover", e => e.preventDefault());
document.addEventListener("drop", e => {
    e.preventDefault();
    let z = e.target.closest(".nature-zone") || e.target.closest(".drop-zone-world");
    if(z && dragged) {
        if(z.children.length > 0) {
            let pool = z.closest('#nature') ? 'nat-pool' : 'world-pool';
            document.getElementById(pool).appendChild(z.children[0]);
        }
        z.appendChild(dragged);
    }
});

window.onload = () => { initReading(); initNature(); initWorld(); };
</script>
</body>
</html>